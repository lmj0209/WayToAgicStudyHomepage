# 产品需求文档：个人学术主页 - V5.0 - 首页与布局调整

## 1. 综述 (Overview)

### 1.1 项目背景

基于 PRD 2.0-4.0 的实施反馈，用户提出三个新的调整需求：
1. **侧边栏位置调整**：侧边栏太靠左边，需要往中间移动
2. **默认语言设置**：页面默认显示中文版本
3. **首页内容调整**：AI 编程页面作为首页，学术页面作为次级页面

### 1.2 核心问题

| 问题 | 当前状态 | 期望状态 |
|------|----------|----------|
| 侧边栏位置 | 紧贴左边缘 (left-0) | 靠近中间，有左侧留白 |
| 默认语言 | 英文 (en) | **中文** |
| 首页内容 | 学术页面 (/) | **AI 编程页面** |
| 学术页面 | - | 移至 /academic 路由 |

### 1.3 参考设计分析

根据 `reference/2.png` 的视觉分析：
- **侧边栏位置**：参考设计的侧边栏并不是紧贴左边缘，而是有适当的左侧留白
- **整体布局**：页面整体略微居中，不会完全靠边
- **视觉效果**：页面看起来更加平衡和专业

---

## 2. 用户故事详述 (User Stories)

---

### **US-14: 调整侧边栏位置，往中间移动**

*   **价值陈述 (Value Statement)**:
    *   **作为** 访问者
    *   **我希望** 侧边栏不会紧贴左边缘
    *   **以便于** 页面布局更平衡，视觉更舒适

*   **业务规则与逻辑**:
    1.  **前置条件**: PRD 4.0 已完成实施
    2.  **当前状态**: 侧边栏使用 `fixed left-0`，紧贴左边缘
    3.  **目标状态**: 侧边栏与左边缘有间距，整体布局居中
    4.  **实现方案**：
        - 方案 A：给侧边栏添加左侧 margin/padding
        - 方案 B：将整个页面容器居中，限制最大宽度
        - 方案 C：使用百分比或 calc() 计算侧边栏位置

*   **验收标准**:
    *   **场景1: 桌面端侧边栏位置**
        *   **GIVEN** 用户在桌面端浏览
        *   **WHEN** 查看侧边栏
        *   **THEN** 侧边栏与左边缘有适当间距（约 50-100px）
    *   **场景2: 响应式保持**
        *   **GIVEN** 调整侧边栏位置
        *   **WHEN** 在移动端查看
        *   **THEN** 移动端布局保持正常工作

*   **需要修改的文件**:
    ```
    app/layout.tsx          # 添加居中容器
    app/page.tsx            # 调整布局结构
    app/ai-coding/page.tsx  # 调整布局结构
    components/Sidebar.tsx  # 调整侧边栏定位
    ```

---

### **US-15: 设置中文为默认语言**

*   **价值陈述 (Value Statement)**:
    *   **作为** 中文用户
    *   **我希望** 页面默认显示中文版本
    *   **以便于** 中文用户直接看到中文内容

*   **业务规则与逻辑**:
    1.  **前置条件**: PRD 4.0 已完成实施
    2.  **当前状态**: `useState<"en" | "zh">("en")` 默认英文
    3.  **目标状态**: `useState<"en" | "zh">("zh")` 默认中文
    4.  **影响范围**: `Header.tsx` 组件中的语言状态初始值

*   **验收标准**:
    *   **场景1: 默认语言**
        *   **GIVEN** 用户首次访问页面
        *   **WHEN** 页面加载
        *   **THEN** 导航栏显示"中"，内容显示中文（如果有双语内容）
    *   **场景2: 语言切换**
        *   **GIVEN** 用户切换到英文
        *   **WHEN** 刷新页面
        *   **THEN** 页面重置为默认中文状态（因为是客户端状态）

*   **需要修改的文件**:
    ```
    components/Header.tsx    # 修改默认语言状态
    ```

*   **注意**: 当前版本的语言切换仅切换导航栏标签，完整的多语言支持需要额外的 i18n 实现。

---

### **US-16: AI 编程页面设为首页**

*   **价值陈述 (Value Statement)**:
    *   **作为** 访问者
    *   **我希望** 打开网站首先看到 AI 编程相关内容
    *   **以便于** 快速访问 AI 编程学习资源

*   **业务规则与逻辑**:
    1.  **前置条件**: PRD 4.0 已完成实施
    2.  **当前路由**:
        - `/` → 学术页面
        - `/ai-coding` → AI 编程页面
    3.  **目标路由**:
        - `/` → **AI 编程页面**
        - `/academic` → 学术页面
    4.  **需要调整的内容**:
        - 将 `app/page.tsx` 的内容改为 AI 编程页面
        - 创建新的 `app/academic/page.tsx` 用于学术页面
        - 更新导航链接

*   **验收标准**:
    *   **场景1: 首页内容**
        *   **GIVEN** 用户访问根路径 `/`
        *   **WHEN** 页面加载
        *   **THEN** 显示 AI 编程页面内容
    *   **场景2: 学术页面路由**
        *   **GIVEN** 用户访问 `/academic`
        *   **WHEN** 页面加载
        *   **THEN** 显示学术页面内容
    *   **场景3: 导航链接**
        *   **GIVEN** 用户点击导航栏的"学术"
        *   **WHEN** 点击链接
        *   **THEN** 跳转到 `/academic` 页面
    *   **场景4: 导航高亮**
        *   **GIVEN** 用户在首页
        *   **WHEN** 查看导航栏
        *   **THEN** "AI 编程"显示为高亮状态

*   **需要修改的文件**:
    ```
    app/page.tsx              # 改为 AI 编程页面
    app/academic/page.tsx     # 新建学术页面
    app/ai-coding/page.tsx    # 删除（内容合并到首页）
    components/Header.tsx     # 更新导航链接
    ```

---

## 3. 具体修改方案

### 3.1 侧边栏位置调整方案

**方案 B：页面容器居中**（推荐）

修改 `app/layout.tsx`，添加最大宽度容器：

```tsx
// 当前
<body>{children}</body>

// 修改为
<body>
  <div className="min-h-screen flex justify-center bg-background">
    <div className="w-full max-w-[1600px]">
      {children}
    </div>
  </div>
</body>
```

同时调整侧边栏和内容区的定位方式。

### 3.2 默认语言设置

修改 `components/Header.tsx`:

```tsx
// 当前
const [language, setLanguage] = useState<"en" | "zh">("en");

// 修改为
const [language, setLanguage] = useState<"en" | "zh">("zh");
```

### 3.3 路由结构调整

| 操作 | 文件 | 说明 |
|------|------|------|
| 重写 | `app/page.tsx` | 改为 AI 编程页面内容 |
| 新建 | `app/academic/page.tsx` | 学术页面内容 |
| 删除 | `app/ai-coding/page.tsx` | 不再需要 |
| 修改 | `components/Header.tsx` | 更新导航链接路径 |
| 修改 | `components/Header.tsx` | 更新 currentPage 逻辑 |

---

## 4. 导航链接调整

### 4.1 当前导航链接

```tsx
{ id: "academic", label: "Academic", labelZh: "学术" }  →  链接到 "/"
{ id: "ai-coding", label: "AI Coding", labelZh: "AI编程" }  →  链接到 "/ai-coding"
```

### 4.2 修改后导航链接

```tsx
{ id: "ai-coding", label: "AI Coding", labelZh: "AI编程" }  →  链接到 "/"
{ id: "academic", label: "Academic", labelZh: "学术" }  →  链接到 "/academic"
```

---

## 5. 待确认事项

- [ ] 确认侧边栏与左边缘的间距大小（50px / 80px / 100px）
- [ ] 确认页面容器的最大宽度（1600px / 1800px / 无限制）
- [ ] 确认是否需要完整的中英文内容翻译（当前仅切换导航标签）

---

## 6. 附录：文件操作清单

### 6.1 需要修改的文件（共 5 个）

| 文件 | 操作 | 说明 |
|------|------|------|
| app/layout.tsx | 修改 | 添加居中容器 |
| app/page.tsx | 重写 | 改为 AI 编程页面 |
| app/academic/page.tsx | 新建 | 学术页面 |
| app/ai-coding/page.tsx | 删除 | 不再需要 |
| components/Header.tsx | 修改 | 语言默认值 + 导航链接 |

### 6.2 需要调整的组件

| 组件 | 调整内容 |
|------|---------|
| Sidebar.tsx | 配合新的布局结构调整定位方式 |

---

*文档生成时间：2026-02-04*
*版本：V5.0*
*基于：PRD 4.0 实施反馈*
